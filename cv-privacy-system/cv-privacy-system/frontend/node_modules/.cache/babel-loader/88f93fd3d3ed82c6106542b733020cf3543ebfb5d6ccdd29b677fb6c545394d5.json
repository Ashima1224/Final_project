{"ast":null,"code":"// src/api.js - API Helper Functions\n\nconst API_BASE = 'http://localhost:4000/api';\n\n// Auth\nexport async function login(username, password) {\n  const res = await fetch(`${API_BASE}/login`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  });\n  if (!res.ok) throw new Error('Login failed');\n  return res.json();\n}\nexport async function logout() {\n  const res = await fetch(`${API_BASE}/logout`, {\n    method: 'POST'\n  });\n  return res.json();\n}\n\n// Questionnaire\nexport async function getQuestionnaire() {\n  const res = await fetch(`${API_BASE}/questionnaire`);\n  return res.json();\n}\nexport async function getServiceQuestionnaire(serviceType) {\n  const res = await fetch(`${API_BASE}/questionnaire/${serviceType}`);\n  return res.json();\n}\nexport async function getContextTypes() {\n  const res = await fetch(`${API_BASE}/contexts`);\n  return res.json();\n}\nexport async function getPETHierarchy() {\n  const res = await fetch(`${API_BASE}/pets`);\n  return res.json();\n}\n\n// Preferences\nexport async function savePreferences(userId, serviceType, answers, userContexts = []) {\n  const res = await fetch(`${API_BASE}/preferences`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      userId,\n      serviceType,\n      answers,\n      userContexts\n    })\n  });\n  return res.json();\n}\nexport async function getUserPreferences(userId) {\n  const res = await fetch(`${API_BASE}/preferences/${userId}`);\n  return res.json();\n}\nexport async function getServicePreferences(userId, serviceType) {\n  const res = await fetch(`${API_BASE}/preferences/${userId}/${serviceType}`);\n  return res.json();\n}\n\n// Rules\nexport async function generateRule(serviceType, questionId, selectedOption, userContexts = []) {\n  const res = await fetch(`${API_BASE}/rules/generate`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      serviceType,\n      questionId,\n      selectedOption,\n      userContexts\n    })\n  });\n  return res.json();\n}\nexport async function generateRuleset(serviceType, answers, userContexts = []) {\n  const res = await fetch(`${API_BASE}/rules/generate-ruleset`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      serviceType,\n      answers,\n      userContexts\n    })\n  });\n  return res.json();\n}\nexport async function getUserRules(userId) {\n  const res = await fetch(`${API_BASE}/rules/${userId}`);\n  return res.json();\n}\n\n// Evaluation\nexport async function evaluatePreferences(userId, serviceType, currentContext = {}) {\n  const res = await fetch(`${API_BASE}/evaluate`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      userId,\n      serviceType,\n      currentContext\n    })\n  });\n  return res.json();\n}\nexport async function quickEvaluate(rule, currentContext = {}, serviceType) {\n  const res = await fetch(`${API_BASE}/evaluate/quick`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      rule,\n      currentContext,\n      serviceType\n    })\n  });\n  return res.json();\n}\nexport async function resolveConflict(rules, userChoice = null) {\n  const res = await fetch(`${API_BASE}/evaluate/resolve-conflict`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      rules,\n      userChoice\n    })\n  });\n  return res.json();\n}\n\n// P3P Policies\nexport async function getP3PPolicies() {\n  const res = await fetch(`${API_BASE}/p3p`);\n  return res.json();\n}\nexport async function getServiceP3P(serviceType) {\n  const res = await fetch(`${API_BASE}/p3p/${serviceType}`);\n  return res.json();\n}\n\n// History\nexport async function getEvaluationHistory(userId) {\n  const res = await fetch(`${API_BASE}/history/${userId}`);\n  return res.json();\n}\n\n// Data Streaming\nexport async function getStreamData(userId, serviceType, currentContext = {}) {\n  const res = await fetch(`${API_BASE}/stream`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      userId,\n      serviceType,\n      currentContext\n    })\n  });\n  return res.json();\n}","map":{"version":3,"names":["API_BASE","login","username","password","res","fetch","method","headers","body","JSON","stringify","ok","Error","json","logout","getQuestionnaire","getServiceQuestionnaire","serviceType","getContextTypes","getPETHierarchy","savePreferences","userId","answers","userContexts","getUserPreferences","getServicePreferences","generateRule","questionId","selectedOption","generateRuleset","getUserRules","evaluatePreferences","currentContext","quickEvaluate","rule","resolveConflict","rules","userChoice","getP3PPolicies","getServiceP3P","getEvaluationHistory","getStreamData"],"sources":["C:/Users/Aashima/Downloads/files/cv-privacy-system/cv-privacy-system/frontend/src/api.js"],"sourcesContent":["// src/api.js - API Helper Functions\n\nconst API_BASE = 'http://localhost:4000/api';\n\n// Auth\nexport async function login(username, password) {\n  const res = await fetch(`${API_BASE}/login`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ username, password })\n  });\n  if (!res.ok) throw new Error('Login failed');\n  return res.json();\n}\n\nexport async function logout() {\n  const res = await fetch(`${API_BASE}/logout`, { method: 'POST' });\n  return res.json();\n}\n\n// Questionnaire\nexport async function getQuestionnaire() {\n  const res = await fetch(`${API_BASE}/questionnaire`);\n  return res.json();\n}\n\nexport async function getServiceQuestionnaire(serviceType) {\n  const res = await fetch(`${API_BASE}/questionnaire/${serviceType}`);\n  return res.json();\n}\n\nexport async function getContextTypes() {\n  const res = await fetch(`${API_BASE}/contexts`);\n  return res.json();\n}\n\nexport async function getPETHierarchy() {\n  const res = await fetch(`${API_BASE}/pets`);\n  return res.json();\n}\n\n// Preferences\nexport async function savePreferences(userId, serviceType, answers, userContexts = []) {\n  const res = await fetch(`${API_BASE}/preferences`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ userId, serviceType, answers, userContexts })\n  });\n  return res.json();\n}\n\nexport async function getUserPreferences(userId) {\n  const res = await fetch(`${API_BASE}/preferences/${userId}`);\n  return res.json();\n}\n\nexport async function getServicePreferences(userId, serviceType) {\n  const res = await fetch(`${API_BASE}/preferences/${userId}/${serviceType}`);\n  return res.json();\n}\n\n// Rules\nexport async function generateRule(serviceType, questionId, selectedOption, userContexts = []) {\n  const res = await fetch(`${API_BASE}/rules/generate`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ serviceType, questionId, selectedOption, userContexts })\n  });\n  return res.json();\n}\n\nexport async function generateRuleset(serviceType, answers, userContexts = []) {\n  const res = await fetch(`${API_BASE}/rules/generate-ruleset`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ serviceType, answers, userContexts })\n  });\n  return res.json();\n}\n\nexport async function getUserRules(userId) {\n  const res = await fetch(`${API_BASE}/rules/${userId}`);\n  return res.json();\n}\n\n// Evaluation\nexport async function evaluatePreferences(userId, serviceType, currentContext = {}) {\n  const res = await fetch(`${API_BASE}/evaluate`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ userId, serviceType, currentContext })\n  });\n  return res.json();\n}\n\nexport async function quickEvaluate(rule, currentContext = {}, serviceType) {\n  const res = await fetch(`${API_BASE}/evaluate/quick`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ rule, currentContext, serviceType })\n  });\n  return res.json();\n}\n\nexport async function resolveConflict(rules, userChoice = null) {\n  const res = await fetch(`${API_BASE}/evaluate/resolve-conflict`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ rules, userChoice })\n  });\n  return res.json();\n}\n\n// P3P Policies\nexport async function getP3PPolicies() {\n  const res = await fetch(`${API_BASE}/p3p`);\n  return res.json();\n}\n\nexport async function getServiceP3P(serviceType) {\n  const res = await fetch(`${API_BASE}/p3p/${serviceType}`);\n  return res.json();\n}\n\n// History\nexport async function getEvaluationHistory(userId) {\n  const res = await fetch(`${API_BASE}/history/${userId}`);\n  return res.json();\n}\n\n// Data Streaming\nexport async function getStreamData(userId, serviceType, currentContext = {}) {\n  const res = await fetch(`${API_BASE}/stream`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ userId, serviceType, currentContext })\n  });\n  return res.json();\n}\n"],"mappings":"AAAA;;AAEA,MAAMA,QAAQ,GAAG,2BAA2B;;AAE5C;AACA,OAAO,eAAeC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAC9C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,QAAQ,EAAE;IAC3CM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAER,QAAQ;MAAEC;IAAS,CAAC;EAC7C,CAAC,CAAC;EACF,IAAI,CAACC,GAAG,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;EAC5C,OAAOR,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,MAAMA,CAAA,EAAG;EAC7B,MAAMV,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,SAAS,EAAE;IAAEM,MAAM,EAAE;EAAO,CAAC,CAAC;EACjE,OAAOF,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA,OAAO,eAAeE,gBAAgBA,CAAA,EAAG;EACvC,MAAMX,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,gBAAgB,CAAC;EACpD,OAAOI,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeG,uBAAuBA,CAACC,WAAW,EAAE;EACzD,MAAMb,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,kBAAkBiB,WAAW,EAAE,CAAC;EACnE,OAAOb,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeK,eAAeA,CAAA,EAAG;EACtC,MAAMd,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,WAAW,CAAC;EAC/C,OAAOI,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeM,eAAeA,CAAA,EAAG;EACtC,MAAMf,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,OAAO,CAAC;EAC3C,OAAOI,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA,OAAO,eAAeO,eAAeA,CAACC,MAAM,EAAEJ,WAAW,EAAEK,OAAO,EAAEC,YAAY,GAAG,EAAE,EAAE;EACrF,MAAMnB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,cAAc,EAAE;IACjDM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEW,MAAM;MAAEJ,WAAW;MAAEK,OAAO;MAAEC;IAAa,CAAC;EACrE,CAAC,CAAC;EACF,OAAOnB,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeW,kBAAkBA,CAACH,MAAM,EAAE;EAC/C,MAAMjB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,gBAAgBqB,MAAM,EAAE,CAAC;EAC5D,OAAOjB,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeY,qBAAqBA,CAACJ,MAAM,EAAEJ,WAAW,EAAE;EAC/D,MAAMb,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,gBAAgBqB,MAAM,IAAIJ,WAAW,EAAE,CAAC;EAC3E,OAAOb,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA,OAAO,eAAea,YAAYA,CAACT,WAAW,EAAEU,UAAU,EAAEC,cAAc,EAAEL,YAAY,GAAG,EAAE,EAAE;EAC7F,MAAMnB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,iBAAiB,EAAE;IACpDM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEO,WAAW;MAAEU,UAAU;MAAEC,cAAc;MAAEL;IAAa,CAAC;EAChF,CAAC,CAAC;EACF,OAAOnB,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAegB,eAAeA,CAACZ,WAAW,EAAEK,OAAO,EAAEC,YAAY,GAAG,EAAE,EAAE;EAC7E,MAAMnB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,yBAAyB,EAAE;IAC5DM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEO,WAAW;MAAEK,OAAO;MAAEC;IAAa,CAAC;EAC7D,CAAC,CAAC;EACF,OAAOnB,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeiB,YAAYA,CAACT,MAAM,EAAE;EACzC,MAAMjB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,UAAUqB,MAAM,EAAE,CAAC;EACtD,OAAOjB,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA,OAAO,eAAekB,mBAAmBA,CAACV,MAAM,EAAEJ,WAAW,EAAEe,cAAc,GAAG,CAAC,CAAC,EAAE;EAClF,MAAM5B,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,WAAW,EAAE;IAC9CM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEW,MAAM;MAAEJ,WAAW;MAAEe;IAAe,CAAC;EAC9D,CAAC,CAAC;EACF,OAAO5B,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeoB,aAAaA,CAACC,IAAI,EAAEF,cAAc,GAAG,CAAC,CAAC,EAAEf,WAAW,EAAE;EAC1E,MAAMb,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,iBAAiB,EAAE;IACpDM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEwB,IAAI;MAAEF,cAAc;MAAEf;IAAY,CAAC;EAC5D,CAAC,CAAC;EACF,OAAOb,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAesB,eAAeA,CAACC,KAAK,EAAEC,UAAU,GAAG,IAAI,EAAE;EAC9D,MAAMjC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,4BAA4B,EAAE;IAC/DM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAE0B,KAAK;MAAEC;IAAW,CAAC;EAC5C,CAAC,CAAC;EACF,OAAOjC,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA,OAAO,eAAeyB,cAAcA,CAAA,EAAG;EACrC,MAAMlC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,MAAM,CAAC;EAC1C,OAAOI,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAe0B,aAAaA,CAACtB,WAAW,EAAE;EAC/C,MAAMb,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,QAAQiB,WAAW,EAAE,CAAC;EACzD,OAAOb,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA,OAAO,eAAe2B,oBAAoBA,CAACnB,MAAM,EAAE;EACjD,MAAMjB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,YAAYqB,MAAM,EAAE,CAAC;EACxD,OAAOjB,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA,OAAO,eAAe4B,aAAaA,CAACpB,MAAM,EAAEJ,WAAW,EAAEe,cAAc,GAAG,CAAC,CAAC,EAAE;EAC5E,MAAM5B,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,SAAS,EAAE;IAC5CM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEW,MAAM;MAAEJ,WAAW;MAAEe;IAAe,CAAC;EAC9D,CAAC,CAAC;EACF,OAAO5B,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}